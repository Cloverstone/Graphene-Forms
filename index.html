<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">

  </head>
  <body>
   <div style="width:800px;margin:50px auto" id="form"></div>
   <pre style="width:800px;margin:50px auto" id="result"></pre>
    <script src="./assets/js/lodash.min.js"></script>    
    <script type='text/javascript' src='./src/forman.js'></script>
    <script type='text/javascript' src='./src/forman.validate.js'></script>
    <script type='text/javascript' src='./src/forman.events.js'></script>
    <script type='text/javascript' src='./src/forman.conditions.js'></script>
    <script type='text/javascript' src='./src/forman.skeleton.js'></script>

    <script>
    options ={
        data:{
  "f_n": [
    "Bob"
  ],

  "number": "hello",
  "favorite_state": "NC",
  "candies": {
    "candy": "skittles",
    "brand": "mars",
    "flavors": [
      {
        "flavor": "Lemon",
        "color": [
          "Yellow"
        ]
      }
    ]
  }
},
        legend:'My Form',
        fields:[
            {label:'First Name', name: 'f_n', array:true},
            {name: 'checked', label: 'Checked?',type: 'checkbox', display: {multiMatch:[{name:'number', value:['first','1']}]}},
            {name: 'last_name', label: 'Last Name', validate: {required:true}},
            {name: 'number', type:'select', max: 5, default: {label:'ZERO', value: ''}, options:['first', 1,3,{value:'hello',label:'Other'}]},
            {"label": "Favorite State",type:'select', "options": "./states.json", "label_key":'name'},
            {label: 'Candies', type:'fieldset', fields: [{label: 'Candy'},{label: 'Brand'},{name: 'flavors', label: '', type: 'fieldset', array: true, fields: [{label: 'Flavor'},{ label: 'Color', type:'color', array: true}]}]},

        ]
    };
    // options = {
    //   data: {first_name: 'John', last_name: 'Doe'},//optional
    //   fields: [
    //     {label: 'First Name'}, 
    //     {label: 'Last Name'}
    //   ], actions: false};

    var myForman = new forman(options, '#form')
    myForman.debounce('change', function(field){
        field.owner.validate();
        document.querySelector('#result').innerHTML = JSON.stringify(myForman.toJSON(), null, 2)
    })






    </script>
   </body>
</html>